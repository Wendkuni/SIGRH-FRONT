<p-card>
  <h2 class="text-center underline mb-5">Etats RÃ©muneration</h2>

  <p-tabView >
    <p-tabPanel header="Mois">
      <p-table
        [columns]="colsMois"
        #dt1
        dataKey="id"
        [rows]="5"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Page {currentPage} sur {totalPages}"
        [paginator]="true"
        styleClass="p-datatable-gridlines p-datatable-striped"
        responsiveLayout="scroll"
        [rowHover]="true"
        [rowsPerPageOptions]="[5,10, 20, 50]"
        tableStyleClass="p-datatable-gridlines"
        [globalFilterFields]="['dateEffet']"
      >
        <ng-template pTemplate="caption">
          <div class="flex justify-content-start flex-column sm:flex-row">
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-excel"
                    class="p-button-success mr-2"
                    label="Excel"
            ></button>
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-pdf"
                    label="Pdf"
                    class="p-button-warning mr-2"
                    >
            </button>
          </div>

          <div class="flex justify-content-end flex-column sm:flex-row">
              <span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt1,$event)"
                     placeholder="Recherche par date..." class="w-full"/>
						</span>
          </div>
        </ng-template>
        <ng-template let-columns pTemplate="header">
          <tr>
            @for (col of columns; track col.field) {
              <th
                [pSortableColumn]="col.field"
                class="font-weight-bold "
              >
                {{ col.header }}
              </th>
            }
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-personnel>
          <tr class="align-items-center align-content-center">
            <td
              style="min-width: 15rem">
              {{ personnel.nomPrenom  | uppercase }}
            </td>
            <td
              style="min-width: 15rem">
              {{ personnel.nomPrenomArab  | uppercase }}
            </td>
            <td
              style="min-width: 15rem">
              {{ personnel.matricule }}
            </td>
            <td style="min-width: 15rem;">
              {{ personnel.nni }}
            </td>
            <td
              style="min-width: 15rem">
              {{ personnel.dateEffect | date: 'dd/MM/yyyy' }}
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">Aucune remuneration.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Dren">
      <p-table
        [columns]="colsDren"
        #dt
        dataKey="id"
        [rows]="5"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Page {currentPage} sur {totalPages}"
        [paginator]="true"
        styleClass="p-datatable-gridlines p-datatable-striped"
        responsiveLayout="scroll"
        [rowHover]="true"
        [rowsPerPageOptions]="[5,10, 20, 50]"
        tableStyleClass="p-datatable-gridlines"
        [globalFilterFields]="['dren']"
      >
        <ng-template pTemplate="caption">
          <div class="flex justify-content-start flex-column sm:flex-row">
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-excel"
                    class="p-button-success mr-2"
                    label="Excel"
            ></button>
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-pdf"
                    label="Pdf"
                    class="p-button-warning mr-2"
            >
            </button>
          </div>

          <div class="flex justify-content-end flex-column sm:flex-row">
              <span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt,$event)"
                     placeholder="Recherche par dren..." class="w-full"/>
						</span>
          </div>
        </ng-template>
        <ng-template let-columns pTemplate="header">
          <tr>
            @for (col of columns; track col.field) {
              <th
                [pSortableColumn]="col.field"
                class="font-weight-bold "
              >
                {{ col.header }}
              </th>
            }
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">Aucune remuneration</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Localite">
      <p-table
        [columns]="colsLocalite"
        #dt
        dataKey="id"
        [rows]="5"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Page {currentPage} sur {totalPages}"
        [paginator]="true"
        styleClass="p-datatable-gridlines p-datatable-striped"
        responsiveLayout="scroll"
        [rowHover]="true"
        [rowsPerPageOptions]="[5,10, 20, 50]"
        tableStyleClass="p-datatable-gridlines"
        [globalFilterFields]="['localite']"
      >
        <ng-template pTemplate="caption">
          <div class="flex justify-content-start flex-column sm:flex-row">
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-excel"
                    class="p-button-success mr-2"
                    label="Excel"
            ></button>
            <button type="button"
                    pButton pRipple
                    icon="pi pi-file-pdf"
                    label="Pdf"
                    class="p-button-warning mr-2"
            >
            </button>
          </div>

          <div class="flex justify-content-end flex-column sm:flex-row">
              <span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt,$event)"
                     placeholder="Recherche par localite..." class="w-full"/>
						</span>
          </div>
        </ng-template>
        <ng-template let-columns pTemplate="header">
          <tr>
            @for (col of columns; track col.field) {
              <th
                [pSortableColumn]="col.field"
                class="font-weight-bold "
              >
                {{ col.header }}
              </th>
            }
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">Aucune remuneration</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Categorie">
      <p-accordion>
        <p-accordionTab header="Liste du personnel permanent" [selected]="false" class="line-height-3 m-0">
          <p-table
            [columns]="cols"
            #dtPermanent
            dataKey="id"
            [rows]="5"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Page {currentPage} sur {totalPages}"
            [paginator]="true"
            styleClass="p-datatable-gridlines p-datatable-striped"
            responsiveLayout="scroll"
            [rowHover]="true"
            [rowsPerPageOptions]="[5,10, 20, 50]"
            tableStyleClass="p-datatable-gridlines"
          >
            <ng-template pTemplate="caption">
              <div class="flex justify-content-start flex-column sm:flex-row">
                <button type="button"
                        pButton pRipple
                        icon="pi pi-file-excel"
                        class="p-button-success mr-2"
                        label="Excel"
                ></button>
                <button type="button"
                        pButton pRipple
                        icon="pi pi-file-pdf"
                        label="Pdf"
                        class="p-button-warning mr-2"
                        >
                </button>
              </div>

            </ng-template>
            <ng-template let-columns pTemplate="header">
              <tr>
                @for (col of columns; track col.field) {
                  <th
                    [pSortableColumn]="col.field"
                    class="font-weight-bold "
                  >
                    {{ col.header }}
                  </th>
                }
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-personnel>
              <tr class="align-items-center align-content-center">
                <td
                  style="min-width: 15rem">
                  {{ personnel.matricule }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nomPrenom  | uppercase }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nomPrenomArab }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nni }}
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-accordionTab>
        <p-accordionTab header="Liste du personnel Temporaire" [selected]="false" class="line-height-3 m-0">
          <p-table
            [columns]="cols"
            #dtTemporaire
            dataKey="id"
            [rows]="5"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Page {currentPage} sur {totalPages}"
            [paginator]="true"
            styleClass="p-datatable-gridlines p-datatable-striped"
            responsiveLayout="scroll"
            [rowHover]="true"
            [rowsPerPageOptions]="[5,10, 20, 50]"
            tableStyleClass="p-datatable-gridlines"
          >
            <ng-template pTemplate="caption">
              <div class="flex justify-content-start flex-column sm:flex-row">
                <button type="button"
                        pButton pRipple
                        icon="pi pi-file-excel"
                        class="p-button-success mr-2"
                        label="Excel"
                ></button>
                <button type="button"
                        pButton pRipple
                        icon="pi pi-file-pdf"
                        label="Pdf"
                        class="p-button-warning mr-2"
                        >
                </button>
              </div>
            </ng-template>
            <ng-template let-columns pTemplate="header">
              <tr>
                @for (col of columns; track col.field) {
                  <th
                    [pSortableColumn]="col.field"
                    class="font-weight-bold "
                  >
                    {{ col.header }}
                  </th>
                }
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-personnel>
              <tr class="align-items-center align-content-center">
                <td
                  style="min-width: 15rem">
                  {{ personnel.matricule }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nomPrenom  | uppercase }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nomPrenomArab }}
                </td>
                <td
                  style="min-width: 15rem">
                  {{ personnel.nni }}
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-accordionTab>
      </p-accordion>
    </p-tabPanel>
  </p-tabView>
</p-card>
