<p-toast
  [showTransformOptions]="'translateY(100%)'"
  [showTransitionOptions]="'1000ms'"
  [hideTransitionOptions]="'1000ms'"
  [showTransformOptions]="'translateX(100%)'"
/>

<div class="layout-menu-profile">
  <button
    class="p-link border-noround"
    (click)="toggleMenu()"
    pTooltip="Profile"
    [tooltipDisabled]="isTooltipDisabled"
  >
    <!-- @if( currentUser.imagPers ){
    <img
      src="data:image/png;base64,{{ currentUser.imagPers }}"
      alt="{{ currentUser.nomPrenom }}"
      class="w-4rem h-4rem border-circle shadow-4"
    />
    } @else {
    <img
      src="assets/demo/images/avatar/user-avatar.png"
      alt="user.name"
      class="w-4rem h-4rem border-circle shadow-4"
    />
    } -->
    <img
      src="assets/demo/images/avatar/user-avatar.png"
      alt="user.name"
      class="w-4rem h-4rem border-circle shadow-4"
    />
    <span>
      <strong>{{ currentUser.nomPrenom }}</strong>
      <small>{{ currentUser.nomPrenomArab }}</small>
    </span>
    <i
      class="layout-menu-profile-toggler pi pi-fw"
      [ngClass]="{
        'pi-angle-down': menuProfilePosition === 'start' || isHorizontal,
        'pi-angle-up': menuProfilePosition === 'end' && !isHorizontal
      }"
    ></i>
  </button>
  <ul *ngIf="menuProfileActive" [@menu]="isHorizontal ? 'overlay' : 'inline'">
    <li pTooltip="Profile" [tooltipDisabled]="isTooltipDisabled">
      <button class="p-link" [routerLink]="['/users-profile']">
        <i class="pi pi-file-o pi-fw"></i>
        <span>Profile</span>
      </button>
    </li>
    <li pTooltip="Logout" [tooltipDisabled]="isTooltipDisabled">
      <button class="p-link" (click)="confirm($event)">
        <i class="pi pi-power-off pi-fw"></i>
        <span>Logout</span>
      </button>

      <p-confirmDialog #cd>
        <ng-template pTemplate="headless" let-message>
          <div
            class="flex flex-column align-items-center p-5 surface-overlay border-round"
          >
            <div
              class="border-circle bg-primary inline-flex justify-content-center align-items-center h-6rem w-6rem"
            >
              <i class="pi pi-question text-5xl"></i>
            </div>
            <span class="font-bold text-2xl block mb-2 mt-4">
              {{ message.header }}
            </span>
            <p class="mb-0">{{ message.message }}</p>
            <div class="flex align-items-center gap-2 mt-4">
              <button
                pButton
                label="Oui"
                (click)="cd.accept()"
                class="w-8rem"
              ></button>
              <button
                pButton
                label="Non"
                (click)="cd.reject()"
                class="p-button-outlined p-button-danger w-8rem"
              ></button>
            </div>
          </div>
        </ng-template>
      </p-confirmDialog>
    </li>
  </ul>
</div>
